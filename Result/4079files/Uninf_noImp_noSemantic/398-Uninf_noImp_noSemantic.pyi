from typing import Any, DefaultDict, Deque, Dict, List, Optional, Set, Tuple

User = str
Timestamp = float
HashAndSalt = Tuple[bytes, bytes]
Post: Any
UserInfo: Any
posts: Deque[Post]
user_posts: DefaultDict[User, Deque[Post]]
following: DefaultDict[User, Set[User]]
followers: DefaultDict[User, Set[User]]
user_info: Dict[User, UserInfo]

def post_message(user: User, text: str, timestamp: Optional[Timestamp]=...) -> None: ...
def follow(user: User, followed_user: User) -> None: ...
def posts_by_user(user: User, limit: Optional[int]=...) -> List[Post]: ...
def posts_for_user(user: User, limit: Optional[int]=...) -> List[Post]: ...
def get_followers(user: User) -> List[User]: ...
def get_followed(user: User) -> List[User]: ...
def search(phrase: str, limit: Optional[int]=...) -> List[Post]: ...
def hash_password(password: str, salt: Optional[bytes]=...) -> HashAndSalt: ...
def set_user(user: User, displayname: str, email: str, password: str, bio: Optional[str]=..., photo: Optional[str]=...) -> None: ...
def check_user(user: User, password: str) -> bool: ...
def get_user(user: User) -> UserInfo: ...

time_unit_cuts: List[int]
time_units: List[Tuple[int, str]]

def age(post: Post) -> str: ...

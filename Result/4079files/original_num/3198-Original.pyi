# (generated with --quick)

import collections
import contextlib
from typing import Any, Callable, Coroutine, Dict, Iterator, List, Optional, Type, TypeVar
import uuid

ConnectionInfo: Any
EdgeData: Any
IndexDefinition: Any
IndexEntry: Any
KvetchData: Any
KvetchShard: Any
OrderedDict: Type[collections.OrderedDict]
StoredIdEdgeDefinition: Any
UUID: Type[uuid.UUID]
body_to_data: Any
data_to_body: Any
datetime: Type[datetime.datetime]
pymysql: module
pymysql_conn_from_info: Any
row_to_obj: Any

_T = TypeVar('_T')

class KvetchDbShard(Any):
    _pool: KvetchDbSingleConnectionPool
    def __init__(self, *, pool: KvetchDbSingleConnectionPool) -> None: ...
    def create_safe_conn(self) -> Any: ...
    def gen_delete_index_entry(self, index, index_value, target_id: uuid.UUID) -> Coroutine[Any, Any, None]: ...
    def gen_delete_object(self, obj_id: uuid.UUID) -> Coroutine[Any, Any, None]: ...
    def gen_edge_ids(self, edge_definition, from_id: uuid.UUID, after: Optional[uuid.UUID] = ..., first: Optional[int] = ...) -> Coroutine[Any, Any, List[uuid.UUID]]: ...
    def gen_edges(self, edge_definition, from_id: uuid.UUID, after: Optional[uuid.UUID] = ..., first: Optional[int] = ...) -> Coroutine[Any, Any, list]: ...
    def gen_index_entries(self, index, value) -> Coroutine[Any, Any, list]: ...
    def gen_insert_edge(self, edge_definition, from_id: uuid.UUID, to_id: uuid.UUID, data = ...) -> Coroutine[Any, Any, None]: ...
    def gen_insert_index_entry(self, index, index_value, target_id: uuid.UUID) -> Coroutine[Any, Any, None]: ...
    def gen_insert_object(self, new_id: uuid.UUID, type_id: int, data) -> Coroutine[Any, Any, uuid.UUID]: ...
    def gen_insert_objects(self, new_ids: List[uuid.UUID], type_id: int, datas: list) -> Coroutine[Any, Any, List[uuid.UUID]]: ...
    def gen_object(self, obj_id: uuid.UUID) -> coroutine: ...
    def gen_objects(self, ids: List[uuid.UUID]) -> Coroutine[Any, Any, Dict[uuid.UUID, Any]]: ...
    def gen_objects_of_type(self, type_id: int, after: Optional[uuid.UUID] = ..., first: Optional[int] = ...) -> Coroutine[Any, Any, Dict[uuid.UUID, Any]]: ...
    def gen_update_object(self, obj_id: uuid.UUID, data) -> Coroutine[Any, Any, None]: ...

class KvetchDbSingleConnectionPool:
    conn_info: Any
    create_safe_conn: Callable[..., contextlib._GeneratorContextManager]
    def __init__(self, conn_info) -> None: ...

def _kv_shard_delete_index_entry(shard_conn, index_name: str, index_column: str, index_value, target_id: uuid.UUID) -> None: ...
def _kv_shard_delete_object(shard_conn, obj_id: uuid.UUID) -> None: ...
def _kv_shard_get_edges(shard_conn, edge_id: int, from_id: uuid.UUID, after: uuid.UUID, first: int) -> list: ...
def _kv_shard_get_index_entries(shard_conn, index_name: str, index_column: str, index_value) -> list: ...
def _kv_shard_get_object(shard_conn, obj_id: uuid.UUID) -> Any: ...
def _kv_shard_get_objects(shard_conn, obj_ids: List[uuid.UUID]) -> Dict[uuid.UUID, Any]: ...
def _kv_shard_get_objects_by_type(shard_conn, type_id: int, after: Optional[uuid.UUID] = ..., first: Optional[int] = ...) -> Dict[uuid.UUID, Any]: ...
def _kv_shard_insert_edge(shard_conn, edge_id: int, from_id: uuid.UUID, to_id: uuid.UUID, data) -> None: ...
def _kv_shard_insert_index_entry(shard_conn, index_name: str, index_column: str, index_value: str, target_id: uuid.UUID) -> None: ...
def _kv_shard_insert_object(shard_conn, new_id: uuid.UUID, type_id: int, data) -> uuid.UUID: ...
def _kv_shard_insert_objects(shard_conn, new_ids: List[uuid.UUID], type_id: int, datas: list) -> List[uuid.UUID]: ...
def _kv_shard_replace_object(shard_conn, obj_id: uuid.UUID, data) -> None: ...
def _to_sql_value(value) -> Any: ...
def contextmanager(func: Callable[..., Iterator[_T]]) -> Callable[..., contextlib._GeneratorContextManager[_T]]: ...
